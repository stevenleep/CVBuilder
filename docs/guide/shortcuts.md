# 快捷键参考

## 全局快捷键

### 编辑操作

| 快捷键                 | 功能     | 说明                   |
| ---------------------- | -------- | ---------------------- |
| `Cmd/Ctrl + Z`         | 撤销     | 撤销上一步操作         |
| `Cmd/Ctrl + Shift + Z` | 重做     | 重做被撤销的操作       |
| `Cmd/Ctrl + S`         | 保存     | 保存到本地存储         |
| `Cmd/Ctrl + C`         | 复制     | 复制选中的节点到剪贴板 |
| `Cmd/Ctrl + X`         | 剪切     | 剪切选中的节点到剪贴板 |
| `Cmd/Ctrl + V`         | 粘贴     | 从剪贴板粘贴节点       |
| `Cmd/Ctrl + D`         | 快速复制 | 快速复制选中的节点     |
| `Delete` / `Backspace` | 删除     | 删除选中的节点         |
| `Esc`                  | 取消选中 | 取消所有选中的节点     |

### 视图控制

| 快捷键         | 功能     | 说明           |
| -------------- | -------- | -------------- |
| `Cmd/Ctrl + +` | 放大     | 放大画布显示   |
| `Cmd/Ctrl + -` | 缩小     | 缩小画布显示   |
| `Cmd/Ctrl + 0` | 重置缩放 | 恢复 100% 缩放 |
| `Cmd/Ctrl + E` | 编辑模式 | 切换到编辑模式 |
| `Cmd/Ctrl + P` | 预览模式 | 切换到预览模式 |

### 帮助

| 快捷键         | 功能       | 说明                 |
| -------------- | ---------- | -------------------- |
| `Cmd/Ctrl + /` | 快捷键帮助 | 显示快捷键帮助对话框 |
| `Cmd/Ctrl + ?` | 快捷键帮助 | 同上（备选）         |

## 富文本编辑

在富文本编辑器中可用的快捷键：

| 快捷键         | 功能     | 说明                   |
| -------------- | -------- | ---------------------- |
| `Cmd/Ctrl + B` | 加粗     | 加粗选中的文本         |
| `Cmd/Ctrl + I` | 斜体     | 将选中的文本变为斜体   |
| `Cmd/Ctrl + U` | 下划线   | 为选中的文本添加下划线 |
| `Cmd/Ctrl + K` | 插入链接 | 为选中的文本添加超链接 |

## 物料特定快捷键

某些物料支持自己的快捷键，这些快捷键只在选中该物料时生效。

### 文本物料

| 快捷键         | 功能     |
| -------------- | -------- |
| `Cmd/Ctrl + B` | 切换粗体 |
| `Cmd/Ctrl + I` | 切换斜体 |

### 图片物料

| 快捷键         | 功能     |
| -------------- | -------- |
| `Cmd/Ctrl + ↑` | 向上移动 |
| `Cmd/Ctrl + ↓` | 向下移动 |

## 插件快捷键

插件可以注册自己的快捷键，这些会在快捷键帮助中显示。

常见插件快捷键：

| 快捷键                 | 功能     | 插件      |
| ---------------------- | -------- | --------- |
| `Cmd/Ctrl + Shift + S` | 自动保存 | AutoSave  |
| `Cmd/Ctrl + Shift + E` | 导出     | Export    |
| `Cmd/Ctrl + Shift + P` | 导出 PDF | ExportPDF |

## 快捷键冲突

如果多个快捷键冲突，优先级顺序为：

1. **物料特定快捷键** - 选中物料时的快捷键
2. **插件快捷键** - 插件注册的快捷键
3. **全局快捷键** - 系统内置快捷键
4. **浏览器快捷键** - 浏览器原生快捷键

## 禁用快捷键

在以下情况下，快捷键会被禁用：

- 焦点在输入框中
- 正在编辑富文本
- 弹出对话框打开
- 处于预览模式（部分快捷键）

## 自定义快捷键

通过插件系统可以注册自定义快捷键：

```typescript
context.registerShortcut({
  key: 'Ctrl+Shift+M',
  commandId: 'my-command',
  description: '我的自定义命令',
})
```

详见[插件开发指南](./plugin-development.md)。

## 快捷键提示

### 查看所有快捷键

按 `Cmd/Ctrl + /` 打开快捷键帮助对话框，可以查看：

- 全局快捷键
- 当前选中物料的快捷键
- 所有插件注册的快捷键

### Tooltip 提示

鼠标悬停在按钮上时，会显示对应的快捷键：

```
[保存按钮]
  ↓
Tooltip: "保存 (Cmd+S)"
```

## 平台差异

### macOS

- 使用 `Cmd` 键（⌘）
- `Option` 键对应 Alt

### Windows/Linux

- 使用 `Ctrl` 键
- `Alt` 键

### 文档约定

本文档使用 `Cmd/Ctrl` 表示：

- macOS 上使用 `Cmd`
- Windows/Linux 上使用 `Ctrl`

## 记忆技巧

### 1. 标准快捷键

大多数快捷键遵循业界标准：

- `Ctrl + C/V/X` - 复制/粘贴/剪切
- `Ctrl + Z/Y` - 撤销/重做
- `Ctrl + S` - 保存

### 2. 功能分组

相关功能的快捷键通常有规律：

- `Ctrl + C/V/X/D` - 都是剪贴板相关
- `Ctrl + +/-/0` - 都是缩放相关

### 3. 常用优先

最常用的快捷键设置为最容易按的组合：

- 单手操作：`Ctrl + Z/C/V/X`
- 双手操作：`Ctrl + Shift + Z`

## 快捷键速查表

### 编辑 (Editing)

```
Ctrl + Z    撤销
Ctrl + Y    重做
Ctrl + C    复制
Ctrl + V    粘贴
Ctrl + X    剪切
Ctrl + D    快速复制
Delete      删除
```

### 视图 (View)

```
Ctrl + +    放大
Ctrl + -    缩小
Ctrl + 0    重置
Ctrl + E    编辑模式
Ctrl + P    预览模式
```

### 文件 (File)

```
Ctrl + S    保存
Ctrl + O    打开
Ctrl + N    新建
```

### 帮助 (Help)

```
Ctrl + /    快捷键帮助
Esc         取消/关闭
```

## 打印版快捷键卡片

可以打印以下卡片放在工作区：

```
╔════════════════════════════════════╗
║      CVBuilder 快捷键卡片          ║
╠════════════════════════════════════╣
║ 编辑                               ║
║  Ctrl+Z  撤销    Ctrl+C  复制      ║
║  Ctrl+Y  重做    Ctrl+V  粘贴      ║
║  Ctrl+S  保存    Delete  删除      ║
╠════════════════════════════════════╣
║ 视图                               ║
║  Ctrl++  放大    Ctrl+E  编辑      ║
║  Ctrl+-  缩小    Ctrl+P  预览      ║
╠════════════════════════════════════╣
║ 帮助                               ║
║  Ctrl+/  快捷键帮助                ║
║  Esc     取消选中                  ║
╚════════════════════════════════════╝
```

## 相关文档

- [基础使用指南](./basic-usage.md)
- [插件开发指南](./plugin-development.md)
- [快速上手](./quick-start.md)
